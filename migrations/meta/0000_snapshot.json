{
  "id": "7a19b0c7-9200-45d3-8e43-24e33881fbcd",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agent_proposals": {
      "name": "agent_proposals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "change_id": {
          "name": "change_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "proposal_type": {
          "name": "proposal_type",
          "type": "agent_proposal_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "target_ref": {
          "name": "target_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "agent_proposal_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agent_proposals_tenant_id_tenants_id_fk": {
          "name": "agent_proposals_tenant_id_tenants_id_fk",
          "tableFrom": "agent_proposals",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_proposals_change_id_change_records_id_fk": {
          "name": "agent_proposals_change_id_change_records_id_fk",
          "tableFrom": "agent_proposals",
          "tableTo": "change_records",
          "columnsFrom": [
            "change_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_runs": {
      "name": "agent_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "change_id": {
          "name": "change_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "intent": {
          "name": "intent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "skills_used": {
          "name": "skills_used",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "logs": {
          "name": "logs",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "status": {
          "name": "status",
          "type": "agent_run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agent_runs_change_id_change_records_id_fk": {
          "name": "agent_runs_change_id_change_records_id_fk",
          "tableFrom": "agent_runs",
          "tableTo": "change_records",
          "columnsFrom": [
            "change_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.change_patch_ops": {
      "name": "change_patch_ops",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "change_id": {
          "name": "change_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "op_type": {
          "name": "op_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "previous_snapshot": {
          "name": "previous_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "change_patch_ops_tenant_id_tenants_id_fk": {
          "name": "change_patch_ops_tenant_id_tenants_id_fk",
          "tableFrom": "change_patch_ops",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "change_patch_ops_change_id_change_records_id_fk": {
          "name": "change_patch_ops_change_id_change_records_id_fk",
          "tableFrom": "change_patch_ops",
          "tableTo": "change_records",
          "columnsFrom": [
            "change_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "change_patch_ops_target_id_change_targets_id_fk": {
          "name": "change_patch_ops_target_id_change_targets_id_fk",
          "tableFrom": "change_patch_ops",
          "tableTo": "change_targets",
          "columnsFrom": [
            "target_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.change_records": {
      "name": "change_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_sha": {
          "name": "base_sha",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_path": {
          "name": "module_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_id": {
          "name": "module_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "change_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Draft'"
        },
        "branch_name": {
          "name": "branch_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "environment_id": {
          "name": "environment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "change_records_project_id_projects_id_fk": {
          "name": "change_records_project_id_projects_id_fk",
          "tableFrom": "change_records",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "change_records_module_id_modules_id_fk": {
          "name": "change_records_module_id_modules_id_fk",
          "tableFrom": "change_records",
          "tableTo": "modules",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "change_records_environment_id_environments_id_fk": {
          "name": "change_records_environment_id_environments_id_fk",
          "tableFrom": "change_records",
          "tableTo": "environments",
          "columnsFrom": [
            "environment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.change_targets": {
      "name": "change_targets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "change_id": {
          "name": "change_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "change_target_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "selector": {
          "name": "selector",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "change_targets_tenant_id_tenants_id_fk": {
          "name": "change_targets_tenant_id_tenants_id_fk",
          "tableFrom": "change_targets",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "change_targets_project_id_projects_id_fk": {
          "name": "change_targets_project_id_projects_id_fk",
          "tableFrom": "change_targets",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "change_targets_change_id_change_records_id_fk": {
          "name": "change_targets_change_id_change_records_id_fk",
          "tableFrom": "change_targets",
          "tableTo": "change_records",
          "columnsFrom": [
            "change_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.choice_items": {
      "name": "choice_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "choice_list_id": {
          "name": "choice_list_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "choice_items_choice_list_id_choice_lists_id_fk": {
          "name": "choice_items_choice_list_id_choice_lists_id_fk",
          "tableFrom": "choice_items",
          "tableTo": "choice_lists",
          "columnsFrom": [
            "choice_list_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.choice_lists": {
      "name": "choice_lists",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "choice_list_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "choice_lists_tenant_id_tenants_id_fk": {
          "name": "choice_lists_tenant_id_tenants_id_fk",
          "tableFrom": "choice_lists",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_choice_lists_tenant_name": {
          "name": "uq_choice_lists_tenant_name",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.environments": {
      "name": "environments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "environment_name",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "environments_project_id_projects_id_fk": {
          "name": "environments_project_id_projects_id_fk",
          "tableFrom": "environments",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.execution_telemetry_events": {
      "name": "execution_telemetry_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_type": {
          "name": "event_type",
          "type": "telemetry_event_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "module_id": {
          "name": "module_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "execution_type": {
          "name": "execution_type",
          "type": "telemetry_execution_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_step_id": {
          "name": "workflow_step_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "execution_id": {
          "name": "execution_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "actor_type": {
          "name": "actor_type",
          "type": "telemetry_actor_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "affected_record_ids": {
          "name": "affected_record_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "execution_telemetry_events_tenant_id_tenants_id_fk": {
          "name": "execution_telemetry_events_tenant_id_tenants_id_fk",
          "tableFrom": "execution_telemetry_events",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.field_definitions": {
      "name": "field_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "record_type_id": {
          "name": "record_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_type": {
          "name": "field_type",
          "type": "field_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "default_value": {
          "name": "default_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "choice_list_id": {
          "name": "choice_list_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reference_record_type_id": {
          "name": "reference_record_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "field_definitions_record_type_id_record_types_id_fk": {
          "name": "field_definitions_record_type_id_record_types_id_fk",
          "tableFrom": "field_definitions",
          "tableTo": "record_types",
          "columnsFrom": [
            "record_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "field_definitions_choice_list_id_choice_lists_id_fk": {
          "name": "field_definitions_choice_list_id_choice_lists_id_fk",
          "tableFrom": "field_definitions",
          "tableTo": "choice_lists",
          "columnsFrom": [
            "choice_list_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "field_definitions_reference_record_type_id_record_types_id_fk": {
          "name": "field_definitions_reference_record_type_id_record_types_id_fk",
          "tableFrom": "field_definitions",
          "tableTo": "record_types",
          "columnsFrom": [
            "reference_record_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.form_behavior_rules": {
      "name": "form_behavior_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "form_definition_id": {
          "name": "form_definition_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "rule_type": {
          "name": "rule_type",
          "type": "form_behavior_rule_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "target_field_definition_id": {
          "name": "target_field_definition_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "condition": {
          "name": "condition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "form_behavior_rule_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "form_behavior_rules_form_definition_id_form_definitions_id_fk": {
          "name": "form_behavior_rules_form_definition_id_form_definitions_id_fk",
          "tableFrom": "form_behavior_rules",
          "tableTo": "form_definitions",
          "columnsFrom": [
            "form_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "form_behavior_rules_target_field_definition_id_field_definitions_id_fk": {
          "name": "form_behavior_rules_target_field_definition_id_field_definitions_id_fk",
          "tableFrom": "form_behavior_rules",
          "tableTo": "field_definitions",
          "columnsFrom": [
            "target_field_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.form_definitions": {
      "name": "form_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "record_type_id": {
          "name": "record_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "form_definition_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "form_definitions_tenant_id_tenants_id_fk": {
          "name": "form_definitions_tenant_id_tenants_id_fk",
          "tableFrom": "form_definitions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "form_definitions_record_type_id_record_types_id_fk": {
          "name": "form_definitions_record_type_id_record_types_id_fk",
          "tableFrom": "form_definitions",
          "tableTo": "record_types",
          "columnsFrom": [
            "record_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_form_definitions_tenant_record_name": {
          "name": "uq_form_definitions_tenant_record_name",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "record_type_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.form_field_placements": {
      "name": "form_field_placements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "form_section_id": {
          "name": "form_section_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "field_definition_id": {
          "name": "field_definition_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "column": {
          "name": "column",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "form_field_placements_form_section_id_form_sections_id_fk": {
          "name": "form_field_placements_form_section_id_form_sections_id_fk",
          "tableFrom": "form_field_placements",
          "tableTo": "form_sections",
          "columnsFrom": [
            "form_section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "form_field_placements_field_definition_id_field_definitions_id_fk": {
          "name": "form_field_placements_field_definition_id_field_definitions_id_fk",
          "tableFrom": "form_field_placements",
          "tableTo": "field_definitions",
          "columnsFrom": [
            "field_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.form_sections": {
      "name": "form_sections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "form_definition_id": {
          "name": "form_definition_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "form_sections_form_definition_id_form_definitions_id_fk": {
          "name": "form_sections_form_definition_id_form_definitions_id_fk",
          "tableFrom": "form_sections",
          "tableTo": "form_definitions",
          "columnsFrom": [
            "form_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.installed_app_events": {
      "name": "installed_app_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "installed_app_id": {
          "name": "installed_app_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "install_event_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "error_details": {
          "name": "error_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "installed_app_events_installed_app_id_installed_apps_id_fk": {
          "name": "installed_app_events_installed_app_id_installed_apps_id_fk",
          "tableFrom": "installed_app_events",
          "tableTo": "installed_apps",
          "columnsFrom": [
            "installed_app_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.installed_apps": {
      "name": "installed_apps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "template_version": {
          "name": "template_version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "installed_app_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'upgrading'"
        },
        "installed_at": {
          "name": "installed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "installed_apps_tenant_id_tenants_id_fk": {
          "name": "installed_apps_tenant_id_tenants_id_fk",
          "tableFrom": "installed_apps",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installed_apps_template_id_templates_id_fk": {
          "name": "installed_apps_template_id_templates_id_fk",
          "tableFrom": "installed_apps",
          "tableTo": "templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_installed_apps_tenant_template": {
          "name": "uq_installed_apps_tenant_template",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "template_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.installed_modules": {
      "name": "installed_modules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "installed_app_id": {
          "name": "installed_app_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "module_id": {
          "name": "module_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "template_module_id": {
          "name": "template_module_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "capability_profile": {
          "name": "capability_profile",
          "type": "capability_profile",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'CODE_MODULE_DEFAULT'"
        },
        "is_override": {
          "name": "is_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "installed_modules_installed_app_id_installed_apps_id_fk": {
          "name": "installed_modules_installed_app_id_installed_apps_id_fk",
          "tableFrom": "installed_modules",
          "tableTo": "installed_apps",
          "columnsFrom": [
            "installed_app_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installed_modules_module_id_modules_id_fk": {
          "name": "installed_modules_module_id_modules_id_fk",
          "tableFrom": "installed_modules",
          "tableTo": "modules",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installed_modules_template_module_id_template_modules_id_fk": {
          "name": "installed_modules_template_module_id_template_modules_id_fk",
          "tableFrom": "installed_modules",
          "tableTo": "template_modules",
          "columnsFrom": [
            "template_module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.module_overrides": {
      "name": "module_overrides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "installed_module_id": {
          "name": "installed_module_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "override_type": {
          "name": "override_type",
          "type": "override_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "target_ref": {
          "name": "target_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "patch": {
          "name": "patch",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "override_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "change_id": {
          "name": "change_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "module_overrides_tenant_id_tenants_id_fk": {
          "name": "module_overrides_tenant_id_tenants_id_fk",
          "tableFrom": "module_overrides",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "module_overrides_installed_module_id_installed_modules_id_fk": {
          "name": "module_overrides_installed_module_id_installed_modules_id_fk",
          "tableFrom": "module_overrides",
          "tableTo": "installed_modules",
          "columnsFrom": [
            "installed_module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "module_overrides_change_id_change_records_id_fk": {
          "name": "module_overrides_change_id_change_records_id_fk",
          "tableFrom": "module_overrides",
          "tableTo": "change_records",
          "columnsFrom": [
            "change_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.modules": {
      "name": "modules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "module_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'code'"
        },
        "root_path": {
          "name": "root_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'src'"
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.1.0'"
        },
        "capability_profile": {
          "name": "capability_profile",
          "type": "capability_profile",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'CODE_MODULE_DEFAULT'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "modules_project_id_projects_id_fk": {
          "name": "modules_project_id_projects_id_fk",
          "tableFrom": "modules",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "github_repo": {
          "name": "github_repo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "default_branch": {
          "name": "default_branch",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'main'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "projects_tenant_id_tenants_id_fk": {
          "name": "projects_tenant_id_tenants_id_fk",
          "tableFrom": "projects",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rbac_audit_logs": {
      "name": "rbac_audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "rbac_actor_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "permission": {
          "name": "permission",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "rbac_audit_outcome",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rbac_permissions": {
      "name": "rbac_permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "rbac_permissions_name_unique": {
          "name": "rbac_permissions_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rbac_policies": {
      "name": "rbac_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "rbac_resource_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "effect": {
          "name": "effect",
          "type": "rbac_policy_effect",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rbac_policies_tenant_id_tenants_id_fk": {
          "name": "rbac_policies_tenant_id_tenants_id_fk",
          "tableFrom": "rbac_policies",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rbac_policies_role_id_rbac_roles_id_fk": {
          "name": "rbac_policies_role_id_rbac_roles_id_fk",
          "tableFrom": "rbac_policies",
          "tableTo": "rbac_roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rbac_role_permissions": {
      "name": "rbac_role_permissions",
      "schema": "",
      "columns": {
        "role_id": {
          "name": "role_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "permission_id": {
          "name": "permission_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rbac_role_permissions_role_id_rbac_roles_id_fk": {
          "name": "rbac_role_permissions_role_id_rbac_roles_id_fk",
          "tableFrom": "rbac_role_permissions",
          "tableTo": "rbac_roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rbac_role_permissions_permission_id_rbac_permissions_id_fk": {
          "name": "rbac_role_permissions_permission_id_rbac_permissions_id_fk",
          "tableFrom": "rbac_role_permissions",
          "tableTo": "rbac_permissions",
          "columnsFrom": [
            "permission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "rbac_role_permission_unique": {
          "name": "rbac_role_permission_unique",
          "nullsNotDistinct": false,
          "columns": [
            "role_id",
            "permission_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rbac_roles": {
      "name": "rbac_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "rbac_role_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rbac_roles_tenant_id_tenants_id_fk": {
          "name": "rbac_roles_tenant_id_tenants_id_fk",
          "tableFrom": "rbac_roles",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "rbac_roles_tenant_name": {
          "name": "rbac_roles_tenant_name",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rbac_user_roles": {
      "name": "rbac_user_roles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rbac_user_roles_role_id_rbac_roles_id_fk": {
          "name": "rbac_user_roles_role_id_rbac_roles_id_fk",
          "tableFrom": "rbac_user_roles",
          "tableTo": "rbac_roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "rbac_user_role_unique": {
          "name": "rbac_user_role_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "role_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.record_locks": {
      "name": "record_locks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "record_type_id": {
          "name": "record_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "record_id": {
          "name": "record_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "locked_by": {
          "name": "locked_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_execution_id": {
          "name": "workflow_execution_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "record_locks_tenant_id_tenants_id_fk": {
          "name": "record_locks_tenant_id_tenants_id_fk",
          "tableFrom": "record_locks",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "record_locks_record_type_id_record_types_id_fk": {
          "name": "record_locks_record_type_id_record_types_id_fk",
          "tableFrom": "record_locks",
          "tableTo": "record_types",
          "columnsFrom": [
            "record_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_record_locks_tenant_type_record": {
          "name": "uq_record_locks_tenant_type_record",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "record_type_id",
            "record_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.record_type_snapshots": {
      "name": "record_type_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "record_type_key": {
          "name": "record_type_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "change_id": {
          "name": "change_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "schema": {
          "name": "schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "record_type_snapshots_tenant_id_tenants_id_fk": {
          "name": "record_type_snapshots_tenant_id_tenants_id_fk",
          "tableFrom": "record_type_snapshots",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "record_type_snapshots_project_id_projects_id_fk": {
          "name": "record_type_snapshots_project_id_projects_id_fk",
          "tableFrom": "record_type_snapshots",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "record_type_snapshots_change_id_change_records_id_fk": {
          "name": "record_type_snapshots_change_id_change_records_id_fk",
          "tableFrom": "record_type_snapshots",
          "tableTo": "change_records",
          "columnsFrom": [
            "change_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_rt_snapshot_change_key": {
          "name": "uq_rt_snapshot_change_key",
          "nullsNotDistinct": false,
          "columns": [
            "change_id",
            "record_type_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.record_types": {
      "name": "record_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_type": {
          "name": "base_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schema": {
          "name": "schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"fields\":[]}'::jsonb"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "record_type_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "record_types_tenant_id_tenants_id_fk": {
          "name": "record_types_tenant_id_tenants_id_fk",
          "tableFrom": "record_types",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "record_types_project_id_projects_id_fk": {
          "name": "record_types_project_id_projects_id_fk",
          "tableFrom": "record_types",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_record_types_tenant_name": {
          "name": "uq_record_types_tenant_name",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "name"
          ]
        },
        "uq_record_types_tenant_project_key": {
          "name": "uq_record_types_tenant_project_key",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "project_id",
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.template_modules": {
      "name": "template_modules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "module_type": {
          "name": "module_type",
          "type": "module_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'code'"
        },
        "module_name": {
          "name": "module_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "default_capability_profile": {
          "name": "default_capability_profile",
          "type": "capability_profile",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'CODE_MODULE_DEFAULT'"
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "template_modules_template_id_templates_id_fk": {
          "name": "template_modules_template_id_templates_id_fk",
          "tableFrom": "template_modules",
          "tableTo": "templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.templates": {
      "name": "templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "template_domain",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0.0'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_global": {
          "name": "is_global",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plan": {
          "name": "plan",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenants_slug_unique": {
          "name": "tenants_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workflow_definitions": {
      "name": "workflow_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "wf_trigger_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_config": {
          "name": "trigger_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "wf_definition_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "change_id": {
          "name": "change_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workflow_definitions_tenant_id_tenants_id_fk": {
          "name": "workflow_definitions_tenant_id_tenants_id_fk",
          "tableFrom": "workflow_definitions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_definitions_change_id_change_records_id_fk": {
          "name": "workflow_definitions_change_id_change_records_id_fk",
          "tableFrom": "workflow_definitions",
          "tableTo": "change_records",
          "columnsFrom": [
            "change_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workflow_execution_intents": {
      "name": "workflow_execution_intents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_definition_id": {
          "name": "workflow_definition_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "wf_trigger_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_payload": {
          "name": "trigger_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "wf_intent_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "execution_id": {
          "name": "execution_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "dispatched_at": {
          "name": "dispatched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workflow_execution_intents_tenant_id_tenants_id_fk": {
          "name": "workflow_execution_intents_tenant_id_tenants_id_fk",
          "tableFrom": "workflow_execution_intents",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_execution_intents_workflow_definition_id_workflow_definitions_id_fk": {
          "name": "workflow_execution_intents_workflow_definition_id_workflow_definitions_id_fk",
          "tableFrom": "workflow_execution_intents",
          "tableTo": "workflow_definitions",
          "columnsFrom": [
            "workflow_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_execution_intents_execution_id_workflow_executions_id_fk": {
          "name": "workflow_execution_intents_execution_id_workflow_executions_id_fk",
          "tableFrom": "workflow_execution_intents",
          "tableTo": "workflow_executions",
          "columnsFrom": [
            "execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workflow_executions": {
      "name": "workflow_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_definition_id": {
          "name": "workflow_definition_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "intent_id": {
          "name": "intent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "wf_execution_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "accumulated_input": {
          "name": "accumulated_input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "paused_at_step_id": {
          "name": "paused_at_step_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workflow_executions_tenant_id_tenants_id_fk": {
          "name": "workflow_executions_tenant_id_tenants_id_fk",
          "tableFrom": "workflow_executions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_executions_workflow_definition_id_workflow_definitions_id_fk": {
          "name": "workflow_executions_workflow_definition_id_workflow_definitions_id_fk",
          "tableFrom": "workflow_executions",
          "tableTo": "workflow_definitions",
          "columnsFrom": [
            "workflow_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_executions_paused_at_step_id_workflow_steps_id_fk": {
          "name": "workflow_executions_paused_at_step_id_workflow_steps_id_fk",
          "tableFrom": "workflow_executions",
          "tableTo": "workflow_steps",
          "columnsFrom": [
            "paused_at_step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workflow_step_executions": {
      "name": "workflow_step_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workflow_execution_id": {
          "name": "workflow_execution_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_step_id": {
          "name": "workflow_step_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "wf_step_execution_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "output": {
          "name": "output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workflow_step_executions_workflow_execution_id_workflow_executions_id_fk": {
          "name": "workflow_step_executions_workflow_execution_id_workflow_executions_id_fk",
          "tableFrom": "workflow_step_executions",
          "tableTo": "workflow_executions",
          "columnsFrom": [
            "workflow_execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_step_executions_workflow_step_id_workflow_steps_id_fk": {
          "name": "workflow_step_executions_workflow_step_id_workflow_steps_id_fk",
          "tableFrom": "workflow_step_executions",
          "tableTo": "workflow_steps",
          "columnsFrom": [
            "workflow_step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workflow_steps": {
      "name": "workflow_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workflow_definition_id": {
          "name": "workflow_definition_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "step_type": {
          "name": "step_type",
          "type": "wf_step_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workflow_steps_workflow_definition_id_workflow_definitions_id_fk": {
          "name": "workflow_steps_workflow_definition_id_workflow_definitions_id_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "workflow_definitions",
          "columnsFrom": [
            "workflow_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workflow_triggers": {
      "name": "workflow_triggers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_definition_id": {
          "name": "workflow_definition_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "wf_trigger_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_config": {
          "name": "trigger_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "wf_trigger_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workflow_triggers_tenant_id_tenants_id_fk": {
          "name": "workflow_triggers_tenant_id_tenants_id_fk",
          "tableFrom": "workflow_triggers",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_triggers_workflow_definition_id_workflow_definitions_id_fk": {
          "name": "workflow_triggers_workflow_definition_id_workflow_definitions_id_fk",
          "tableFrom": "workflow_triggers",
          "tableTo": "workflow_definitions",
          "columnsFrom": [
            "workflow_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workspaces": {
      "name": "workspaces",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "change_id": {
          "name": "change_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "container_id": {
          "name": "container_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preview_url": {
          "name": "preview_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "workspace_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workspaces_change_id_change_records_id_fk": {
          "name": "workspaces_change_id_change_records_id_fk",
          "tableFrom": "workspaces",
          "tableTo": "change_records",
          "columnsFrom": [
            "change_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.agent_proposal_status": {
      "name": "agent_proposal_status",
      "schema": "public",
      "values": [
        "draft",
        "submitted",
        "accepted",
        "rejected"
      ]
    },
    "public.agent_proposal_type": {
      "name": "agent_proposal_type",
      "schema": "public",
      "values": [
        "form_patch",
        "workflow_change",
        "approval_comment"
      ]
    },
    "public.agent_run_status": {
      "name": "agent_run_status",
      "schema": "public",
      "values": [
        "Pending",
        "Running",
        "Passed",
        "Failed"
      ]
    },
    "public.capability_profile": {
      "name": "capability_profile",
      "schema": "public",
      "values": [
        "CODE_MODULE_DEFAULT",
        "WORKFLOW_MODULE_DEFAULT",
        "READ_ONLY"
      ]
    },
    "public.change_status": {
      "name": "change_status",
      "schema": "public",
      "values": [
        "Draft",
        "Implementing",
        "WorkspaceRunning",
        "Validating",
        "ValidationFailed",
        "Ready",
        "Merged"
      ]
    },
    "public.change_target_type": {
      "name": "change_target_type",
      "schema": "public",
      "values": [
        "form",
        "workflow",
        "rule",
        "record_type",
        "script",
        "file"
      ]
    },
    "public.choice_list_status": {
      "name": "choice_list_status",
      "schema": "public",
      "values": [
        "active",
        "disabled"
      ]
    },
    "public.environment_name": {
      "name": "environment_name",
      "schema": "public",
      "values": [
        "dev",
        "test",
        "prod"
      ]
    },
    "public.field_type": {
      "name": "field_type",
      "schema": "public",
      "values": [
        "string",
        "number",
        "boolean",
        "date",
        "datetime",
        "reference",
        "choice",
        "text"
      ]
    },
    "public.form_behavior_rule_status": {
      "name": "form_behavior_rule_status",
      "schema": "public",
      "values": [
        "active",
        "disabled"
      ]
    },
    "public.form_behavior_rule_type": {
      "name": "form_behavior_rule_type",
      "schema": "public",
      "values": [
        "visible",
        "required",
        "readOnly"
      ]
    },
    "public.form_definition_status": {
      "name": "form_definition_status",
      "schema": "public",
      "values": [
        "draft",
        "active",
        "retired"
      ]
    },
    "public.install_event_type": {
      "name": "install_event_type",
      "schema": "public",
      "values": [
        "install_started",
        "install_completed",
        "install_failed"
      ]
    },
    "public.installed_app_status": {
      "name": "installed_app_status",
      "schema": "public",
      "values": [
        "installed",
        "upgrading",
        "failed"
      ]
    },
    "public.module_type": {
      "name": "module_type",
      "schema": "public",
      "values": [
        "code",
        "schema",
        "workflow",
        "ui",
        "integration",
        "application"
      ]
    },
    "public.override_status": {
      "name": "override_status",
      "schema": "public",
      "values": [
        "draft",
        "active",
        "retired"
      ]
    },
    "public.override_type": {
      "name": "override_type",
      "schema": "public",
      "values": [
        "workflow",
        "form",
        "rule",
        "config"
      ]
    },
    "public.rbac_actor_type": {
      "name": "rbac_actor_type",
      "schema": "public",
      "values": [
        "user",
        "agent",
        "system"
      ]
    },
    "public.rbac_audit_outcome": {
      "name": "rbac_audit_outcome",
      "schema": "public",
      "values": [
        "allow",
        "deny"
      ]
    },
    "public.rbac_policy_effect": {
      "name": "rbac_policy_effect",
      "schema": "public",
      "values": [
        "allow",
        "deny"
      ]
    },
    "public.rbac_resource_type": {
      "name": "rbac_resource_type",
      "schema": "public",
      "values": [
        "form",
        "workflow",
        "override",
        "change"
      ]
    },
    "public.rbac_role_status": {
      "name": "rbac_role_status",
      "schema": "public",
      "values": [
        "active",
        "disabled"
      ]
    },
    "public.record_type_status": {
      "name": "record_type_status",
      "schema": "public",
      "values": [
        "draft",
        "active",
        "retired"
      ]
    },
    "public.telemetry_actor_type": {
      "name": "telemetry_actor_type",
      "schema": "public",
      "values": [
        "user",
        "agent",
        "system"
      ]
    },
    "public.telemetry_event_type": {
      "name": "telemetry_event_type",
      "schema": "public",
      "values": [
        "execution_started",
        "execution_completed",
        "execution_failed"
      ]
    },
    "public.telemetry_execution_type": {
      "name": "telemetry_execution_type",
      "schema": "public",
      "values": [
        "workflow_step",
        "task",
        "agent_action"
      ]
    },
    "public.template_domain": {
      "name": "template_domain",
      "schema": "public",
      "values": [
        "HR",
        "Finance",
        "Legal",
        "Facilities",
        "Custom",
        "ITSM"
      ]
    },
    "public.wf_definition_status": {
      "name": "wf_definition_status",
      "schema": "public",
      "values": [
        "draft",
        "active",
        "retired"
      ]
    },
    "public.wf_execution_status": {
      "name": "wf_execution_status",
      "schema": "public",
      "values": [
        "running",
        "paused",
        "completed",
        "failed"
      ]
    },
    "public.wf_intent_status": {
      "name": "wf_intent_status",
      "schema": "public",
      "values": [
        "pending",
        "dispatched",
        "failed",
        "duplicate"
      ]
    },
    "public.wf_step_execution_status": {
      "name": "wf_step_execution_status",
      "schema": "public",
      "values": [
        "pending",
        "awaiting_approval",
        "completed",
        "failed"
      ]
    },
    "public.wf_step_type": {
      "name": "wf_step_type",
      "schema": "public",
      "values": [
        "assignment",
        "approval",
        "notification",
        "decision",
        "record_mutation",
        "record_lock"
      ]
    },
    "public.wf_trigger_status": {
      "name": "wf_trigger_status",
      "schema": "public",
      "values": [
        "active",
        "disabled"
      ]
    },
    "public.wf_trigger_type": {
      "name": "wf_trigger_type",
      "schema": "public",
      "values": [
        "record_event",
        "schedule",
        "manual"
      ]
    },
    "public.workspace_status": {
      "name": "workspace_status",
      "schema": "public",
      "values": [
        "Pending",
        "Running",
        "Stopped",
        "Failed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}